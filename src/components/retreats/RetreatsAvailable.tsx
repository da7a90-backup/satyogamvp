'use client';

import { useState, useEffect, useRef } from 'react';

const RetreatCardsSection = () => {
  const [currentSlide, setCurrentSlide] = useState(0);
  const [touchStart, setTouchStart] = useState(0);
  const [touchEnd, setTouchEnd] = useState(0);
  const carouselRef = useRef<HTMLDivElement>(null);

  // Retreat options data
  const retreats = [
    {
      id: 'shakti',
      image: '/ssi.jpg',
      duration: '1 month',
      type: 'Onsite Retreat',
      category: 'Ashram Immersion program',
      title: 'Shakti Saturation Intensive'
    },
    {
      id: 'darshan',
      image: '/darshan.jpg', 
      duration: '7-Day',
      type: 'Onsite Retreat',
      category: 'Personal encounter with shunyamurti',
      title: 'Private Darshan'
    },
    {
      id: 'sevadhari',
      image: '/sevadhari.jpg',
      duration: '6 months', 
      type: 'Onsite Retreat',
      category: 'Live and Study at the Ashram!',
      title: 'Become a Sevadhari'
    }
  ];

  // Auto-slide functionality for mobile
  useEffect(() => {
    const timer = setInterval(() => {
      if (window.innerWidth < 1024) {
        setCurrentSlide((prev) => (prev + 1) % retreats.length);
      }
    }, 4000); // Auto-slide every 4 seconds on mobile

    return () => clearInterval(timer);
  }, [retreats.length]);

  // Touch handlers for mobile swipe
  const handleTouchStart = (e: React.TouchEvent) => {
    setTouchStart(e.targetTouches[0].clientX);
  };

  const handleTouchMove = (e: React.TouchEvent) => {
    setTouchEnd(e.targetTouches[0].clientX);
  };

  const handleTouchEnd = () => {
    if (!touchStart || !touchEnd) return;
    
    const distance = touchStart - touchEnd;
    const isLeftSwipe = distance > 50;
    const isRightSwipe = distance < -50;

    if (isLeftSwipe && window.innerWidth < 1024) {
      setCurrentSlide((prev) => (prev + 1) % retreats.length);
    }
    
    if (isRightSwipe && window.innerWidth < 1024) {
      setCurrentSlide((prev) => (prev - 1 + retreats.length) % retreats.length);
    }
  };

  return (
    <section 
      className="relative w-full flex flex-col items-center py-16 lg:py-28 px-4 lg:px-16"
      style={{ backgroundColor: '#FAF8F1' }}
    >
      {/* Desktop Grid - Unchanged */}
      <div className="hidden lg:grid lg:grid-cols-3 gap-8 w-full max-w-7xl mx-auto">
        {retreats.map((retreat, index) => (
          <RetreatCard key={retreat.id} retreat={retreat} />
        ))}
      </div>

      {/* Mobile Carousel */}
      <div className="lg:hidden w-full max-w-sm mx-auto">
        <div 
          className="overflow-hidden rounded-lg cursor-grab active:cursor-grabbing"
          ref={carouselRef}
          onTouchStart={handleTouchStart}
          onTouchMove={handleTouchMove}
          onTouchEnd={handleTouchEnd}
        >
          <div 
            className="flex transition-transform duration-300 ease-in-out"
            style={{
              transform: `translateX(-${currentSlide * 100}%)`,
            }}
          >
            {retreats.map((retreat) => (
              <div 
                key={retreat.id}
                className="w-full flex-shrink-0 px-2"
              >
                <RetreatCard retreat={retreat} isMobile={true} />
              </div>
            ))}
          </div>
        </div>

        {/* Mobile Dots */}
        <div className="flex justify-center mt-6 space-x-2">
          {retreats.map((_, index) => (
            <button
              key={index}
              onClick={() => setCurrentSlide(index)}
              className={`w-2 h-2 rounded-full transition-all duration-200 ${
                currentSlide === index 
                  ? 'w-6' 
                  : 'hover:bg-gray-600'
              }`}
              style={{
                backgroundColor: currentSlide === index ? '#374151' : '#D1D5DB'
              }}
              aria-label={`Go to retreat ${index + 1}`}
            />
          ))}
        </div>
      </div>
    </section>
  );
};

// Retreat Card Component
const RetreatCard = ({ retreat, isMobile = false }: { retreat: any, isMobile?: boolean }) => {
  return (
    <div className={`flex flex-col bg-white rounded-lg overflow-hidden border border-gray-200 ${isMobile ? 'h-full' : ''}`}>
      {/* Image */}
      <div 
        className="relative w-full"
        style={{ aspectRatio: '4/3', backgroundColor: '#f3f4f6' }}
      >
        <img
          src={retreat.image}
          alt={retreat.title}
          className="w-full h-full object-cover"
          onError={(e:any) => {
            e.target.style.backgroundColor = '#e5e7eb';
            e.target.style.display = 'flex';
            e.target.style.alignItems = 'center';
            e.target.style.justifyContent = 'center';
            e.target.innerHTML = `<span style="color: #6b7280; font-size: 14px; text-align: center;">${retreat.title}</span>`;
          }}
        />
        
        {/* Shadow gradient and icon in bottom right corner */}
        <div 
          className="absolute bottom-0 right-0 w-20 h-20 flex items-center justify-center"
          style={{
            background: 'linear-gradient(135deg, transparent 0%, rgba(0,0,0,0.1) 40%, rgba(0,0,0,0.3) 100%)',
            borderRadius: '0 0 8px 0'
          }}
        >
          <div className="w-12 h-12 flex items-center justify-center">
            {retreat.id === 'shakti' && (
              <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="24" cy="24" r="24" fill="url(#paint0_linear_1111_11220)" fillOpacity="0.4"/>
                <path d="M24.0061 1.22167C27.0942 1.22167 30.0892 1.82619 32.908 3.0183C35.6315 4.17034 38.0772 5.81965 40.1781 7.92052C42.279 10.0214 43.9283 12.4671 45.0803 15.1906C46.2724 18.0094 46.877 21.0044 46.877 24.0925C46.877 27.1806 46.2724 30.1755 45.0803 32.9944C43.9283 35.7178 42.279 38.1636 40.1781 40.2645C38.0772 42.3653 35.6315 44.0146 32.908 45.1667C30.0892 46.3588 27.0942 46.9633 24.0061 46.9633C20.9181 46.9633 17.9231 46.3588 15.1042 45.1667C12.3808 44.0146 9.93505 42.3653 7.83417 40.2645C5.7333 38.1636 4.08399 35.7178 2.93195 32.9944C1.73984 30.1755 1.13532 27.1806 1.13532 24.0925C1.13532 21.0044 1.73984 18.0094 2.93195 15.1906C4.08399 12.4671 5.7333 10.0214 7.83417 7.92052C9.93505 5.81965 12.3808 4.17034 15.1042 3.0183C17.9231 1.82619 20.9181 1.22167 24.0061 1.22167ZM24.0061 0.0927734C10.7512 0.0927734 0.00585938 10.8376 0.00585938 24.0925C0.00585938 37.3474 10.7512 48.0928 24.0061 48.0928C37.261 48.0928 48.0064 37.3474 48.0064 24.0925C48.0064 10.8376 37.261 0.0927734 24.0061 0.0927734ZM38.0135 37.7719C37.8306 37.3457 37.5207 37.0274 37.1149 36.81C36.8592 36.6729 36.5939 36.551 36.3252 36.4398C35.7901 36.2185 35.3052 35.9222 34.9056 35.5017C34.2469 34.808 33.6074 34.0962 32.9385 33.4121C32.1432 32.5987 31.8198 31.5844 31.6696 30.5012C31.4376 28.8265 30.9923 27.2009 30.5865 25.5646C30.2173 24.0767 29.308 23.1691 27.8241 22.8016C27.3036 22.6723 26.7832 22.5137 26.2927 22.3009C25.8095 22.0915 25.4844 21.6975 25.4935 21.1387C25.4968 20.9282 25.5804 20.6827 25.7091 20.5173C26.2442 19.8315 26.5439 19.2287 26.5439 17.1216C26.4897 16.0248 26.1036 15.2205 25.0611 14.8147C24.7687 14.7007 24.3696 14.6611 24.0061 14.6482C23.6426 14.6606 23.2436 14.7007 22.9512 14.8147C21.9092 15.2211 21.5231 16.0248 21.4684 17.1216C21.4684 19.2287 21.7681 19.8315 22.3032 20.5173C22.4325 20.6827 22.5154 20.9282 22.5188 21.1387C22.5279 21.697 22.2027 22.091 21.7196 22.3009C21.2285 22.5137 20.7086 22.6729 20.1882 22.8016C18.7043 23.1691 17.795 24.0772 17.4258 25.5646C17.02 27.2009 16.5746 28.8259 16.3426 30.5012C16.1925 31.5844 15.8696 32.5987 15.0738 33.4121C14.4049 34.0956 13.7659 34.808 13.1067 35.5017C12.707 35.9222 12.2222 36.2185 11.6871 36.4398C11.4184 36.5504 11.1531 36.6729 10.8974 36.81C10.4916 37.0274 10.1817 37.3457 9.99883 37.7719C9.87465 38.0614 9.73975 38.3837 10.0124 38.6434C10.2698 38.8883 10.5627 38.7286 10.8218 38.5926C11.647 38.1585 12.47 37.7199 13.2901 37.2763C13.5266 37.1481 13.7767 37.0262 13.9765 36.8507C15.0455 35.9092 16.0977 34.9491 17.1617 34.0014C17.7244 33.5001 18.1393 32.9233 18.3464 32.1782C18.6185 31.1989 18.9589 30.2382 19.2687 29.2696C19.3274 29.0862 19.3805 28.9004 19.464 28.625C19.5289 28.7537 20.0505 31.086 20.0731 32.2521C20.0911 33.175 20.1165 34.0928 19.906 35.0016C19.753 35.6614 19.4527 36.1598 18.7461 36.3557C17.2977 36.757 15.8617 37.204 14.4111 37.5974C13.3669 37.8802 12.3328 38.1692 11.4511 38.8313C11.0447 39.1367 10.6903 39.4883 10.6028 40.0184C10.4515 40.9305 10.8732 41.587 11.5827 42.0876C12.5185 42.7486 13.6068 42.9162 14.7125 42.9721C16.1394 43.0438 17.559 42.9004 18.9543 42.6238C20.5924 42.2987 22.2135 41.8867 23.843 41.5209C23.8961 41.5091 23.9514 41.5012 24.0073 41.4972C24.0632 41.5012 24.119 41.5091 24.1715 41.5209C25.8016 41.8872 27.4222 42.2993 29.0602 42.6238C30.4555 42.9004 31.8745 43.0438 33.302 42.9721C34.4078 42.9168 35.496 42.7486 36.4319 42.0876C37.1419 41.5864 37.563 40.9305 37.4118 40.0184C37.3243 39.4883 36.9698 39.1367 36.5634 38.8313C35.6817 38.1698 34.6477 37.8808 33.6034 37.5974C32.1528 37.204 30.7169 36.7575 29.2685 36.3557C28.5618 36.1598 28.2615 35.6614 28.1085 35.0016C27.898 34.0928 27.9234 33.175 27.9415 32.2521C27.964 31.0866 28.4856 28.7537 28.5505 28.625C28.6335 28.9004 28.6865 29.0856 28.7458 29.2696C29.0557 30.2388 29.3966 31.1989 29.6681 32.1782C29.8747 32.9233 30.2896 33.5001 30.8529 34.0014C31.9169 34.9485 32.969 35.9092 34.0381 36.8507C34.2373 37.0262 34.4874 37.1481 34.7244 37.2763C35.5446 37.7199 36.3675 38.1585 37.1927 38.5926C37.4518 38.7286 37.7448 38.8889 38.0022 38.6434C38.2748 38.3837 38.1405 38.0614 38.0157 37.7719H38.0135ZM23.9813 27.0818C23.5738 27.0762 23.2289 26.7019 23.2447 26.2825C23.2599 25.8863 23.6234 25.5482 24.0242 25.5578C24.4255 25.5674 24.7868 25.9552 24.7676 26.3548C24.7484 26.7482 24.3815 27.0874 23.9813 27.0818ZM24.2884 3.61436C24.2884 3.45857 24.1619 3.33213 24.0061 3.33213C23.8504 3.33213 23.7239 3.45857 23.7239 3.61436V11.8609C23.7239 12.0167 23.8504 12.1432 24.0061 12.1432C24.1619 12.1432 24.2884 12.0167 24.2884 11.8609V3.61436ZM30.6886 6.33443C30.6886 6.17864 30.5622 6.0522 30.4064 6.0522C30.2506 6.0522 30.1242 6.17864 30.1242 6.33443V18.741C30.1242 18.8968 30.2506 19.0232 30.4064 19.0232C30.5622 19.0232 30.6886 18.8968 30.6886 18.741V6.33443ZM33.8885 9.0545C33.8885 8.89871 33.762 8.77227 33.6063 8.77227C33.4505 8.77227 33.324 8.89871 33.324 9.0545V24.3408C33.324 24.4966 33.4505 24.6231 33.6063 24.6231C33.762 24.6231 33.8885 24.4966 33.8885 24.3408V9.0545ZM21.0885 4.41418C21.0885 4.25839 20.9621 4.13196 20.8063 4.13196C20.6505 4.13196 20.5241 4.25839 20.5241 4.41418V12.9808C20.5241 13.1366 20.6505 13.263 20.8063 13.263C20.9621 13.263 21.0885 13.1366 21.0885 12.9808V4.41418ZM17.8881 6.33443C17.8881 6.17864 17.7617 6.0522 17.6059 6.0522C17.4501 6.0522 17.3237 6.17864 17.3237 6.33443V18.741C17.3237 18.8968 17.4501 19.0232 17.6059 19.0232C17.7617 19.0232 17.8881 18.8968 17.8881 18.741V6.33443ZM14.6883 9.0545C14.6883 8.89871 14.5618 8.77227 14.406 8.77227C14.2502 8.77227 14.1238 8.89871 14.1238 9.0545V24.3408C14.1238 24.4966 14.2502 24.6231 14.406 24.6231C14.5618 24.6231 14.6883 24.4966 14.6883 24.3408V9.0545ZM27.4882 4.41418C27.4882 4.25839 27.3618 4.13196 27.206 4.13196C27.0502 4.13196 26.9238 4.25839 26.9238 4.41418V12.9808C26.9238 13.1366 27.0502 13.263 27.206 13.263C27.3618 13.263 27.4882 13.1366 27.4882 12.9808V4.41418Z" fill="url(#paint1_linear_1111_11220)"/>
                <defs>
                  <linearGradient id="paint0_linear_1111_11220" x1="24" y1="0" x2="24" y2="48" gradientUnits="userSpaceOnUse">
                    <stop stopColor="white" stopOpacity="0.2"/>
                    <stop offset="1" stopColor="white" stopOpacity="0.7"/>
                  </linearGradient>
                  <linearGradient id="paint1_linear_1111_11220" x1="24.0061" y1="0.0927734" x2="24.0061" y2="48.0928" gradientUnits="userSpaceOnUse">
                    <stop stopColor="white"/>
                    <stop offset="1" stopColor="#9C7E27"/>
                  </linearGradient>
                </defs>
              </svg>
            )}
            {retreat.id === 'darshan' && (
              <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="24" cy="24" r="24" fill="url(#paint0_linear_1111_13971)" fillOpacity="0.4"/>
                <path d="M24.0003 1.12889C27.0884 1.12889 30.0833 1.73342 32.9022 2.92553C35.6256 4.07756 38.0714 5.72688 40.1723 7.82775C42.2731 9.92862 43.9224 12.3744 45.0745 15.0978C46.2666 17.9167 46.8711 20.9116 46.8711 23.9997C46.8711 27.0878 46.2666 30.0828 45.0745 32.9016C43.9224 35.6251 42.2731 38.0708 40.1723 40.1717C38.0714 42.2726 35.6256 43.9219 32.9022 45.0739C30.0833 46.266 27.0884 46.8705 24.0003 46.8705C20.9122 46.8705 17.9172 46.266 15.0984 45.0739C12.3749 43.9219 9.92919 42.2726 7.82831 40.1717C5.72744 38.0708 4.07813 35.6251 2.92609 32.9016C1.73398 30.0828 1.12946 27.0878 1.12946 23.9997C1.12946 20.9116 1.73398 17.9167 2.92609 15.0978C4.07813 12.3744 5.72744 9.92862 7.82831 7.82775C9.92919 5.72688 12.3749 4.07756 15.0984 2.92553C17.9172 1.73342 20.9122 1.12889 24.0003 1.12889ZM24.0003 0C10.7454 0 0 10.7454 0 24.0003C0 37.2552 10.7454 48.0006 24.0003 48.0006C37.2552 48.0006 48.0006 37.2552 48.0006 24.0003C48.0006 10.7454 37.2552 0 24.0003 0ZM24.0003 33.5496C26.1203 33.5496 27.8385 31.8314 27.8385 29.7114C27.8385 27.5913 26.1203 25.8731 24.0003 25.8731C21.8802 25.8731 20.162 27.5913 20.162 29.7114C20.162 31.8314 21.8802 33.5496 24.0003 33.5496ZM29.1819 22.0733C28.701 23.7491 26.7751 25.1975 25.2884 25.2313C25.1591 25.2342 24.8808 25.1986 24.7623 25.1614C24.655 25.1275 24.6093 25.0022 24.6703 24.9079C24.9948 24.4095 25.8895 22.8753 24.6675 20.8552C24.2052 20.0909 23.836 19.2855 23.6797 18.3987C23.6069 17.9838 23.5713 17.5628 23.5182 17.1406C23.477 17.1513 20.5605 19.6794 22.9352 24.5563C23.1666 25.0315 23.0509 25.2195 22.5322 25.1913C20.6017 25.0874 18.9039 23.9235 18.1769 22.5192C16.7449 19.7539 17.6153 16.8211 19.2522 15.0572C20.9393 13.2397 22.5632 10.6127 21.7577 8.04393C21.6567 7.72107 21.7589 7.67083 22.0665 7.76227C24.2074 8.40518 25.8889 10.3469 26.025 12.5917C26.0949 13.457 25.793 16.3853 26.0227 17.4741C26.1666 18.1549 26.7633 18.3174 27.2216 17.7942C27.3999 17.5904 27.6206 17.1671 27.7381 16.9289C27.7849 16.8341 27.9057 16.8064 27.9909 16.8685C29.5369 17.9974 29.4918 20.9912 29.1813 22.0721L29.1819 22.0733ZM41.8351 29.3309C41.7837 29.2384 40.5493 27.0331 37.7242 24.8216C36.0721 23.5284 34.2134 22.4977 32.1983 21.7594C31.2794 21.4225 30.3272 21.1476 29.3456 20.9325C29.323 21.3954 29.2615 21.7967 29.1819 22.0727C29.1655 22.1286 29.148 22.1845 29.1283 22.2403C30.0133 22.4368 30.873 22.6851 31.7022 22.9871C33.5818 23.6712 35.3163 24.6257 36.8573 25.824C38.8802 27.3966 40.0419 28.9877 40.4771 29.6504C40.0419 30.3136 38.8802 31.9042 36.8573 33.4768C35.3158 34.6751 33.5812 35.6296 31.7022 36.3137C29.349 37.1705 26.7576 37.6046 23.9997 37.6046C21.2418 37.6046 18.6505 37.17 16.2973 36.3137C14.4177 35.6296 12.6831 34.6751 11.1422 33.4768C9.1192 31.9042 7.95757 30.3125 7.52238 29.6504C7.95757 28.9872 9.1192 27.3966 11.1422 25.824C12.6837 24.6257 14.4182 23.6712 16.2973 22.9871C16.8922 22.7704 17.5024 22.5813 18.1266 22.4187C17.9212 22.0055 17.7671 21.5895 17.6582 21.1741C17.0254 21.3429 16.4062 21.5376 15.8017 21.7594C13.7872 22.4977 11.9279 23.5278 10.2758 24.8216C7.4507 27.0331 6.21569 29.2384 6.16489 29.3309L5.98878 29.6504L6.16489 29.9699C6.21625 30.0624 7.4507 32.2677 10.2758 34.4792C11.9279 35.7724 13.7866 36.8031 15.8017 37.5414C18.3118 38.4614 21.0702 38.9282 23.9997 38.9282C26.9292 38.9282 29.6877 38.4614 32.1977 37.5414C34.2123 36.8031 36.0715 35.773 37.7237 34.4792C40.5487 32.2677 41.7837 30.0624 41.8345 29.9699L42.0107 29.6504L41.8345 29.3309H41.8351Z" fill="url(#paint1_linear_1111_13971)"/>
                <defs>
                  <linearGradient id="paint0_linear_1111_13971" x1="24" y1="0" x2="24" y2="48" gradientUnits="userSpaceOnUse">
                    <stop stopColor="white" stopOpacity="0.2"/>
                    <stop offset="1" stopColor="white" stopOpacity="0.7"/>
                  </linearGradient>
                  <linearGradient id="paint1_linear_1111_13971" x1="24.0003" y1="0" x2="24.0003" y2="48.0006" gradientUnits="userSpaceOnUse">
                    <stop stopColor="white"/>
                    <stop offset="1" stopColor="#9C7E27"/>
                  </linearGradient>
                </defs>
              </svg>
            )}
            {retreat.id === 'sevadhari' && (
              <svg width="48" height="49" viewBox="0 0 48 49" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="24" cy="24" r="24" fill="url(#paint0_linear_1111_11251)" fillOpacity="0.4"/>
                <path d="M24.0003 0C10.7454 0 0 10.7454 0 24.0003C0 37.2552 10.7454 48.0006 24.0003 48.0006C37.2552 48.0006 48.0006 37.2552 48.0006 24.0003C48.0006 10.7454 37.2552 0 24.0003 0ZM40.1723 40.1723C38.0714 42.2731 35.6256 43.9224 32.9022 45.0745C32.4839 45.2511 32.0617 45.4148 31.6361 45.5661C31.6344 44.8171 31.6141 44.1381 31.6418 43.4618C31.6909 42.2697 32.0866 41.2041 32.8486 40.2705C33.5795 39.3747 34.5075 38.7199 35.4478 38.081C36.912 37.0864 38.2921 35.9903 39.4362 34.6367C39.9561 34.0215 40.4308 33.3447 40.8016 32.6312C41.7888 30.7336 42.1743 28.6779 42.2263 26.5516C42.2686 24.821 42.1348 23.1034 41.7826 21.4095C41.6556 20.7993 41.4846 20.1858 41.2385 19.6151C40.9331 18.9078 40.0136 18.8717 39.3047 19.2809C38.6161 19.6783 38.6172 20.5414 38.7098 21.3124C38.8311 22.3273 38.9609 23.345 39.0033 24.3649C39.0417 25.2855 39.0264 26.2219 38.7244 27.1093C37.9201 29.4743 36.5118 31.4662 34.8467 33.2945C34.6412 33.5197 34.4505 33.4621 34.2518 33.2679C35.1837 32.2638 36.0162 31.1908 36.7173 30.0212C37.2749 29.091 37.8225 28.1512 38.0945 27.0872C38.2497 26.4805 37.9466 25.8929 37.3602 25.6078C36.8403 25.3555 36.2742 25.5068 35.8825 26.0199C35.6917 26.2694 35.5195 26.5335 35.3491 26.7977C34.5492 28.0355 33.6072 29.1509 32.4297 30.0427C31.4837 30.759 30.4954 31.4188 29.5364 32.1182C28.2771 33.0371 27.2504 34.1547 26.66 35.6228C26.0148 37.227 25.9606 38.8814 26.2823 40.5595C26.5855 42.1399 27.1606 43.634 27.746 45.1247C27.9221 45.5734 28.0993 46.0216 28.2777 46.4732C26.8784 46.7373 25.4503 46.8705 24.0014 46.8705C22.5525 46.8705 21.1244 46.7373 19.7252 46.4732C19.903 46.0222 20.0808 45.5734 20.2569 45.1253C20.8416 43.6346 21.4174 42.1399 21.7205 40.56C22.0422 38.8819 21.988 37.2275 21.3429 35.6234C20.7525 34.1552 19.7257 33.0376 18.4664 32.1187C17.508 31.4188 16.5191 30.759 15.5731 30.0433C14.3957 29.152 13.4536 28.0366 12.6538 26.7982C12.4833 26.5341 12.3106 26.2699 12.1204 26.0204C11.7286 25.5074 11.1631 25.3561 10.6426 25.6084C10.0556 25.8934 9.75308 26.4805 9.9083 27.0878C10.1804 28.1518 10.7279 29.0916 11.2856 30.0218C11.9866 31.1913 12.8186 32.2644 13.7511 33.2685C13.5524 33.4627 13.3616 33.5202 13.1561 33.295C11.4916 31.4668 10.0827 29.4749 9.27838 27.1098C8.9764 26.2225 8.96172 25.2855 8.99954 24.3655C9.04188 23.3455 9.1717 22.3278 9.29305 21.313C9.38506 20.5419 9.38675 19.6789 8.69813 19.2815C7.98918 18.8723 7.0697 18.9084 6.76433 19.6157C6.51823 20.1863 6.34721 20.7993 6.2202 21.41C5.86799 23.1039 5.73422 24.8216 5.77655 26.5521C5.82848 28.6784 6.214 30.7347 7.20121 32.6318C7.57206 33.3453 8.04676 34.0226 8.56661 34.6373C9.71074 35.9908 11.0908 37.087 12.555 38.0815C13.4954 38.7205 14.4233 39.3753 15.1543 40.271C15.9163 41.2046 16.312 42.2703 16.3611 43.4624C16.3887 44.1386 16.3684 44.8177 16.3667 45.5667C15.9411 45.416 15.5189 45.2523 15.1006 45.075C12.3772 43.923 9.93144 42.2737 7.83057 40.1728C5.7297 38.0719 4.08039 35.6262 2.92835 32.9027C1.73624 30.0839 1.13172 27.0889 1.13172 24.0008C1.13172 20.9128 1.73624 17.9178 2.92835 15.099C4.08039 12.3755 5.7297 9.92975 7.83057 7.82888C9.93144 5.72801 12.3772 4.07869 15.1006 2.92666C17.9195 1.73455 20.9145 1.13002 24.0025 1.13002C27.0906 1.13002 30.0856 1.73455 32.9044 2.92666C35.6279 4.07869 38.0736 5.72801 40.1745 7.82888C42.2754 9.92975 43.9247 12.3755 45.0767 15.099C46.2688 17.9178 46.8734 20.9128 46.8734 24.0008C46.8734 27.0889 46.2688 30.0839 45.0767 32.9027C43.9247 35.6262 42.2754 38.0719 40.1745 40.1728L40.1723 40.1723Z" fill="url(#paint1_linear_1111_11251)"/>
                <defs>
                  <linearGradient id="paint0_linear_1111_11251" x1="24" y1="0" x2="24" y2="48" gradientUnits="userSpaceOnUse">
                    <stop stopColor="white" stopOpacity="0.2"/>
                    <stop offset="1" stopColor="white" stopOpacity="0.7"/>
                  </linearGradient>
                  <linearGradient id="paint1_linear_1111_11251" x1="24.0003" y1="0" x2="24.0003" y2="48.0006" gradientUnits="userSpaceOnUse">
                    <stop stopColor="white"/>
                    <stop offset="1" stopColor="#9C7E27"/>
                  </linearGradient>
                </defs>
              </svg>
            )}
          </div>
        </div>
      </div>

      {/* Content */}
      <div className={`p-6 flex flex-col gap-4 ${isMobile ? 'flex-1' : ''}`}>
        {/* Event Details Row */}
        <div className="flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4">
          {/* Duration */}
          <div className="flex items-center gap-2">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <rect x="2" y="3" width="12" height="11" rx="2" stroke="#535862" strokeWidth="1.5"/>
              <path d="M11 1v4M5 1v4M2 7h12" stroke="#535862" strokeWidth="1.5" strokeLinecap="round"/>
            </svg>
            <span 
              style={{
                fontFamily: 'Avenir Next, sans-serif',
                fontSize: 'clamp(12px, 2vw, 14px)',
                fontWeight: 600,
                lineHeight: '20px',
                color: '#384250'
              }}
            >
              Duration: {retreat.duration}
            </span>
          </div>

          {/* Divider */}
          <div className="hidden sm:block w-6 h-0 border-t border-gray-300 rotate-90"/>

          {/* Location */}
          <div className="flex items-center gap-2">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <path d="M14 6.67c0 4.67-6 8.67-6 8.67s-6-4-6-8.67a6 6 0 1112 0z" stroke="#535862" strokeWidth="1.5"/>
              <circle cx="8" cy="6.67" r="1.67" stroke="#535862" strokeWidth="1.5"/>
            </svg>
            <span 
              style={{
                fontFamily: 'Avenir Next, sans-serif',
                fontSize: 'clamp(12px, 2vw, 14px)',
                fontWeight: 600,
                lineHeight: '20px',
                color: '#384250'
              }}
            >
              {retreat.type}
            </span>
          </div>
        </div>
        
        <div>
          <span 
            className="text-sm font-medium"
            style={{ 
              fontFamily: 'Avenir Next, sans-serif', 
              color: '#942017',
              fontSize: 'clamp(12px, 2vw, 14px)'
            }}
          >
            {retreat.category}
          </span>
          <h3 
            className="font-bold mt-1"
            style={{ 
              fontFamily: 'Optima, sans-serif', 
              color: '#000000',
              fontSize: 'clamp(18px, 3vw, 20px)'
            }}
          >
            {retreat.title}
          </h3>
        </div>
        
        <button
          className="w-full px-4 py-3 text-white rounded-lg font-medium transition-colors duration-300 hover:opacity-90 mt-auto"
          style={{
            backgroundColor: '#7D1A13',
            fontFamily: 'Avenir Next, sans-serif',
            fontSize: 'clamp(14px, 2.5vw, 16px)'
          }}
        >
          Learn more
        </button>
      </div>
    </div>
  );
};

export default RetreatCardsSection;